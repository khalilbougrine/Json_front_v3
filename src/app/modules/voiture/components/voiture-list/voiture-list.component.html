<div class="container">
  <div class="search-bar">
    <select [(ngModel)]="searchField">
      <option value="matricule">Matricule</option>
      <option value="marque">Marque</option>
      <option value="modele">Mod√®le</option>
      <option value="annee">Ann√©e</option>
      <option value="kilometrage">Kilom√©trage</option>
    </select>

    <input type="text" [(ngModel)]="searchQuery"
           (input)="onSearch()" placeholder="Rechercher...">
  </div>

  <button (click)="downloadFile()" class="download-btn">üì• T√©l√©charger JSON</button>
  <button (click)="router.navigate(['/add'])">Ajouter une voiture</button>

  <table mat-table [dataSource]="currentPageData">
    <!-- Colonne Matricule -->
    <ng-container matColumnDef="matricule">
      <th mat-header-cell *matHeaderCellDef> Matricule </th>
      <td mat-cell *matCellDef="let voiture"> {{ voiture.matricule }} </td>
    </ng-container>

    <!-- Colonne Marque -->
    <ng-container matColumnDef="marque">
      <th mat-header-cell *matHeaderCellDef> Marque </th>
      <td mat-cell *matCellDef="let voiture"> {{ voiture.marque }} </td>
    </ng-container>

    <!-- Colonne Mod√®le -->
    <ng-container matColumnDef="modele">
      <th mat-header-cell *matHeaderCellDef> Mod√®le </th>
      <td mat-cell *matCellDef="let voiture"> {{ voiture.modele }} </td>
    </ng-container>

    <!-- Colonne Ann√©e -->
    <ng-container matColumnDef="annee">
      <th mat-header-cell *matHeaderCellDef> Ann√©e </th>
      <td mat-cell *matCellDef="let voiture"> {{ voiture.annee }} </td>
    </ng-container>

    <!-- Colonne Kilom√©trage -->
    <ng-container matColumnDef="kilometrage">
      <th mat-header-cell *matHeaderCellDef> Kilom√©trage </th>
      <td mat-cell *matCellDef="let voiture"> {{ voiture.kilometrage }} </td>
    </ng-container>

    <!-- Colonne Actions -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Actions </th>
      <td mat-cell *matCellDef="let voiture">
        <button (click)="editVoiture(voiture.id)">Modifier</button>
        <button (click)="deleteVoiture(voiture.id)">Supprimer</button>
      </td>
    </ng-container>

    <!-- Ligne d'en-t√™te -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <!-- Lignes de donn√©es -->
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <!-- Pagination -->
  <mat-paginator [length]="totalElements"
                 [pageSize]="size"
                 [pageSizeOptions]="pageSizeOptions"
                 (page)="onPageChange($event)">
  </mat-paginator>
</div>
